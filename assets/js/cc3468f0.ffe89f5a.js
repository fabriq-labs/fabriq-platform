"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[588],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=i.createContext({}),c=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return i.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),h=o,f=p["".concat(l,".").concat(h)]||p[h]||d[h]||r;return n?i.createElement(f,a(a({ref:t},u),{},{components:n})):i.createElement(f,a({ref:t},u))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:o,a[1]=s;for(var c=2;c<r;c++)a[c]=n[c];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}h.displayName="MDXCreateElement"},2099:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var i=n(7462),o=(n(7294),n(3905));const r={sidebar_position:2,sidebar_label:"Authentication"},a="Authentication",s={unversionedId:"authentication",id:"authentication",title:"Authentication",description:"In Fabriq, we use authentication through either Firebase or Cognito.",source:"@site/docs/authentication.mdx",sourceDirName:".",slug:"/authentication",permalink:"/docs/authentication",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/authentication.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Authentication"},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/docs/introduction"},next:{title:"Quickstart",permalink:"/docs/category/quickstart"}},l={},c=[{value:"Firebase Authentication",id:"firebase-authentication",level:2},{value:"Cognito Authentication",id:"cognito-authentication",level:2}],u={toc:c},p="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"authentication"},"Authentication"),(0,o.kt)("p",null,"In Fabriq, we use authentication through either Firebase or Cognito."),(0,o.kt)("h2",{id:"firebase-authentication"},"Firebase Authentication"),(0,o.kt)("p",null,"1.To enable Firebase authentication, add the necessary Firebase credentials to the environment (env) file as listed below:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"REACT_APP_FIREBASE_API_KEY=xxx\nREACT_APP_FIREBASE_AUTH_DOMAIN=xxx\nREACT_APP_FIREBASE_DATABASE_URL=xxx\nREACT_APP_FIREBASE_PROJECT_ID=xxx\nREACT_APP_FIREBASE_STORAGE_BUCKET=xxx\nREACT_APP_FIREBASE_MESSAGING_SENDERID=xxx\n")),(0,o.kt)("p",null,"Please ensure that you replace ",(0,o.kt)("inlineCode",{parentName:"p"},"xxx")," with the actual values for each credential."),(0,o.kt)("p",null,"2.Inside the initialize function in the 'client.js' file, declare the environment variables. Make sure to import Firebase above this declaration. Refer to the provided example code below:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"import firebase from 'firebase'; // Import Firebase before using it\n\ninitialize() {\n    const firebaseConfig = {\n      apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n      authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n      projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n      storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n      messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDERID\n    };\n\n    this._app = firebase.initializeApp(firebaseConfig);\n    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.NONE);\n}\n")),(0,o.kt)("p",null,"Ensure that you import the Firebase module before utilizing it within the function. Then, employ the imported module to initialize Firebase and configure it as needed."),(0,o.kt)("p",null,"3.Please review and confirm the 'login_page.js' file. Within the 'onLogin' function, Firebase API is utilized for authentication. The function sends the user's email and password for authentication and subsequently returns the result. The authentication process involves the use of 'UserApi.login(data.email, data.password)'."),(0,o.kt)("h2",{id:"cognito-authentication"},"Cognito Authentication"),(0,o.kt)("p",null,"1.To enable Cognito authentication, add the necessary Cognito credentials to the environment (env) file as listed below:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"REACT_APP_COGNITO_CLIENT_ID=xxx\nREACT_APP_COGNITO_AWS_USERPOOL_URI=xxx\nREACT_APP_COGNITO_AWS_USERPOOL=xxx\nREACT_APP_COGNITO_AWS_REGION=xxx\nREACT_APP_CLAIM_NAME=xxx\n")),(0,o.kt)("p",null,"Please ensure that you replace ",(0,o.kt)("inlineCode",{parentName:"p"},"xxx")," with the actual values for each credential."),(0,o.kt)("p",null,"Ensure you import the Amplify module before using it in the function.\nThen, utilize the imported module to initialize Amplify and configure it with the necessary settings.\n",(0,o.kt)("inlineCode",{parentName:"p"},'import { Amplify } from "aws-amplify"')),(0,o.kt)("p",null,"2.Inside the initialize function in the client.js file, declare the environment variables. Please refer to the example code below:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'  const cognitoConfig = {\n    clientId: process.env.REACT_APP_COGNITO_CLIENT_ID,\n    userPoolUri: process.env.REACT_APP_COGNITO_AWS_USERPOOL_URI,\n    userPool: process.env.REACT_APP_COGNITO_AWS_USERPOOL,\n    region: process.env.REACT_APP_COGNITO_AWS_REGION,\n    callbackUri: process.env.REACT_APP_BACKEND_BASE_URL,\n    signoutUri: process.env.REACT_APP_BACKEND_BASE_URL,\n    tokenScopes: ["openid", "email", "profile", "aws.cognito.signin.user.admin"]\n  };\n\n  // Configure Amplify with Cognito settings\n  Amplify.configure({\n    Auth: {\n      userPoolId: cognitoConfig.userPool,\n      userPoolWebClientId: cognitoConfig.clientId,\n      region: cognitoConfig.region,\n      oauth: {\n        domain: cognitoConfig.userPoolUri,\n        scope: cognitoConfig.tokenScopes,\n        redirectSignIn: cognitoConfig.callbackUri,\n        redirectSignOut: cognitoConfig.signoutUri,\n        responseType: "code"\n      }\n    }\n  });\n')),(0,o.kt)("p",null,"3.Please review and confirm the login_page.js file. Inside the onLogin function, the Amplify API is used for authentication. The function sends the user's email and password for authentication, and it subsequently returns the result. The authentication process involves using ",(0,o.kt)("inlineCode",{parentName:"p"},"AmplifyApi.signin(data.email, data.password)"),"."))}d.isMDXComponent=!0}}]);